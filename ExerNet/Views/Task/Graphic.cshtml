
<h4>Graphics</h4>

<script src="~/Scripts/jqPlot/jquery.jqplot.js" type="text/javascript"></script>
<script src="~/Scripts/jqPlot/plugins/jqplot.canvasTextRenderer.min.js" type="text/javascript"></script>
<script src="~/Scripts/jqPlot/plugins/jqplot.canvasAxisLabelRenderer.min.js" type="text/javascript"></script>
<script src="~/Scripts/parser.js" type="text/javascript"></script>
<link href="~/Scripts/jqPlot/jquery.jqplot.css" rel="stylesheet" type="text/css" />

<div class="row">

    <div class="col-md-6" id="chart1" style="height:300px;width:400px;"></div>
    <div class="col-md-6">
        <form name="GraphSetting">

            <label> Expression</label>
            <input class="form-control" id="expression" placeholder="Expression?" />
            <div class="row">
                <div class="col-md-3">
                    <label> From</label>
                    <input class="form-control" id="from" placeholder="From?">
                </div>
                <div class="col-md-3">
                    <label> To</label>
                    <input class="form-control" id="to" placeholder="To?">
                </div>
                <div class="col-md-3">
                    <label> Step:</label>
                    <input class="form-control" id="step" placeholder="Step?" />
                </div>
            </div>
            <br />
            <button type="button" id="buildGraph" class="btn btn-primary">@Resources.Resource.Submit</button>
        </form>
    </div>
</div>
<script type="text/javascript">
    $("#buildGraph").click(function (e) {
        //$('canvas').remove();
        e.preventDefault();
        var expr = Parser.parse($("#expression").val());
        var cosPoints = [];

        for (var i = parseFloat($("#from").val()) ; i < $("#to").val() ; i += parseFloat($("#step").val())) {
            cosPoints.push([i, expr.evaluate({ x: i })]);
        }
        var plot1 = $.jqplot('chart1', [cosPoints], {
            series: [{ showMarker: false }]
        }).replot();
    });


</script>
